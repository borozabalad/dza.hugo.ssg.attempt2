<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>My New Hugo Site</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="::: full-height-container ::: {#sidebar .split} ::: {#search .navgroup} :::
::: {#navigation .navgroup}
CLEAN CLIFcode Image TtDT - Report TtDT - Report - Introduction TtDT - Report - A resilient approach TtDT - Report - A resilient, transparent bCLEARer pipeline architecture TtDT - Report - bCLEARer&#39;s pipeline or pipe-and-filter architecture TtDT - Report - bCLEARer&#39;s nested gated pipeline architecture TtDT - Report - bCLEARer pipeline&#39;s three nesting levels TtDT - Report - bCLEARer pipeline - general design TtDT - Report - Building resilient transformation transparency into the bCLEARer pipeline TtDT - Report - Building resilient dataset transformation transparency TtDT - Report - Building resilient data item transformation transparency TtDT - Report - Appendices TtDT - Report - Appendix - Process: principles versus rules TtDT - Report - Appendix - bH - bHashing and bSumming TtDT - Report - Appendix - cohesion and coupling TtDT - Report - Appendix - separation of concerns principle TtDT - Report - Appendix - immutability and idempotence principle TtDT - Report - Appendix - single-transformation (responsibility) principle (STP) TtDT - Report - Appendix - Aggregated S(ingle) S(ource) O(f) T(ruth) TtDT - Report - Appendix - design patterns and anti-patterns TtDT - Report - Appendix - Glossary of Major Terms TtDT - Report - Appendix - Glossary of Major Terms - Report TtDT - Report - Appendix - Glossary of Major Terms - Research TtDT - Report - Appendix - Reference Iconography TtDT - Report - Appendix - Reference Iconography - Report TtDT - Report - Appendix - Reference Iconography - Report - Pipeline architecture TtDT - Report - Appendix - Reference Iconography - Report - Life history TtDT - Report - Appendix - Reference Iconography - Report - Inter-diagram mapping TtDT - Report - Appendix - Reference Iconography - Report - Common TtDT - Report - Appendix - Reference Iconography - Research TtDT - Report - Appendix - Reference Iconography - Report - Pipeline architecture _ archive 30/01/23 TtDT - Report - Appendix - The standard &#39;Pipeline&#39; or &#39;Pipe-and-Filter&#39; Architecture TtDT - Report - References TtDT - Report - Acknowledgements ::: ::: ::: {#content .">
    <meta name="generator" content="Hugo 0.119.0">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    
    
    
      

    

    
    
    <meta property="og:title" content="" />
<meta property="og:description" content="::: full-height-container ::: {#sidebar .split} ::: {#search .navgroup} :::
::: {#navigation .navgroup}
CLEAN CLIFcode Image TtDT - Report TtDT - Report - Introduction TtDT - Report - A resilient approach TtDT - Report - A resilient, transparent bCLEARer pipeline architecture TtDT - Report - bCLEARer&#39;s pipeline or pipe-and-filter architecture TtDT - Report - bCLEARer&#39;s nested gated pipeline architecture TtDT - Report - bCLEARer pipeline&#39;s three nesting levels TtDT - Report - bCLEARer pipeline - general design TtDT - Report - Building resilient transformation transparency into the bCLEARer pipeline TtDT - Report - Building resilient dataset transformation transparency TtDT - Report - Building resilient data item transformation transparency TtDT - Report - Appendices TtDT - Report - Appendix - Process: principles versus rules TtDT - Report - Appendix - bH - bHashing and bSumming TtDT - Report - Appendix - cohesion and coupling TtDT - Report - Appendix - separation of concerns principle TtDT - Report - Appendix - immutability and idempotence principle TtDT - Report - Appendix - single-transformation (responsibility) principle (STP) TtDT - Report - Appendix - Aggregated S(ingle) S(ource) O(f) T(ruth) TtDT - Report - Appendix - design patterns and anti-patterns TtDT - Report - Appendix - Glossary of Major Terms TtDT - Report - Appendix - Glossary of Major Terms - Report TtDT - Report - Appendix - Glossary of Major Terms - Research TtDT - Report - Appendix - Reference Iconography TtDT - Report - Appendix - Reference Iconography - Report TtDT - Report - Appendix - Reference Iconography - Report - Pipeline architecture TtDT - Report - Appendix - Reference Iconography - Report - Life history TtDT - Report - Appendix - Reference Iconography - Report - Inter-diagram mapping TtDT - Report - Appendix - Reference Iconography - Report - Common TtDT - Report - Appendix - Reference Iconography - Research TtDT - Report - Appendix - Reference Iconography - Report - Pipeline architecture _ archive 30/01/23 TtDT - Report - Appendix - The standard &#39;Pipeline&#39; or &#39;Pipe-and-Filter&#39; Architecture TtDT - Report - References TtDT - Report - Acknowledgements ::: ::: ::: {#content ." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://example.org/posts/page5766316201/" /><meta property="article:section" content="posts" />


<meta itemprop="name" content="">
<meta itemprop="description" content="::: full-height-container ::: {#sidebar .split} ::: {#search .navgroup} :::
::: {#navigation .navgroup}
CLEAN CLIFcode Image TtDT - Report TtDT - Report - Introduction TtDT - Report - A resilient approach TtDT - Report - A resilient, transparent bCLEARer pipeline architecture TtDT - Report - bCLEARer&#39;s pipeline or pipe-and-filter architecture TtDT - Report - bCLEARer&#39;s nested gated pipeline architecture TtDT - Report - bCLEARer pipeline&#39;s three nesting levels TtDT - Report - bCLEARer pipeline - general design TtDT - Report - Building resilient transformation transparency into the bCLEARer pipeline TtDT - Report - Building resilient dataset transformation transparency TtDT - Report - Building resilient data item transformation transparency TtDT - Report - Appendices TtDT - Report - Appendix - Process: principles versus rules TtDT - Report - Appendix - bH - bHashing and bSumming TtDT - Report - Appendix - cohesion and coupling TtDT - Report - Appendix - separation of concerns principle TtDT - Report - Appendix - immutability and idempotence principle TtDT - Report - Appendix - single-transformation (responsibility) principle (STP) TtDT - Report - Appendix - Aggregated S(ingle) S(ource) O(f) T(ruth) TtDT - Report - Appendix - design patterns and anti-patterns TtDT - Report - Appendix - Glossary of Major Terms TtDT - Report - Appendix - Glossary of Major Terms - Report TtDT - Report - Appendix - Glossary of Major Terms - Research TtDT - Report - Appendix - Reference Iconography TtDT - Report - Appendix - Reference Iconography - Report TtDT - Report - Appendix - Reference Iconography - Report - Pipeline architecture TtDT - Report - Appendix - Reference Iconography - Report - Life history TtDT - Report - Appendix - Reference Iconography - Report - Inter-diagram mapping TtDT - Report - Appendix - Reference Iconography - Report - Common TtDT - Report - Appendix - Reference Iconography - Research TtDT - Report - Appendix - Reference Iconography - Report - Pipeline architecture _ archive 30/01/23 TtDT - Report - Appendix - The standard &#39;Pipeline&#39; or &#39;Pipe-and-Filter&#39; Architecture TtDT - Report - References TtDT - Report - Acknowledgements ::: ::: ::: {#content .">

<meta itemprop="wordCount" content="2884">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="::: full-height-container ::: {#sidebar .split} ::: {#search .navgroup} :::
::: {#navigation .navgroup}
CLEAN CLIFcode Image TtDT - Report TtDT - Report - Introduction TtDT - Report - A resilient approach TtDT - Report - A resilient, transparent bCLEARer pipeline architecture TtDT - Report - bCLEARer&#39;s pipeline or pipe-and-filter architecture TtDT - Report - bCLEARer&#39;s nested gated pipeline architecture TtDT - Report - bCLEARer pipeline&#39;s three nesting levels TtDT - Report - bCLEARer pipeline - general design TtDT - Report - Building resilient transformation transparency into the bCLEARer pipeline TtDT - Report - Building resilient dataset transformation transparency TtDT - Report - Building resilient data item transformation transparency TtDT - Report - Appendices TtDT - Report - Appendix - Process: principles versus rules TtDT - Report - Appendix - bH - bHashing and bSumming TtDT - Report - Appendix - cohesion and coupling TtDT - Report - Appendix - separation of concerns principle TtDT - Report - Appendix - immutability and idempotence principle TtDT - Report - Appendix - single-transformation (responsibility) principle (STP) TtDT - Report - Appendix - Aggregated S(ingle) S(ource) O(f) T(ruth) TtDT - Report - Appendix - design patterns and anti-patterns TtDT - Report - Appendix - Glossary of Major Terms TtDT - Report - Appendix - Glossary of Major Terms - Report TtDT - Report - Appendix - Glossary of Major Terms - Research TtDT - Report - Appendix - Reference Iconography TtDT - Report - Appendix - Reference Iconography - Report TtDT - Report - Appendix - Reference Iconography - Report - Pipeline architecture TtDT - Report - Appendix - Reference Iconography - Report - Life history TtDT - Report - Appendix - Reference Iconography - Report - Inter-diagram mapping TtDT - Report - Appendix - Reference Iconography - Report - Common TtDT - Report - Appendix - Reference Iconography - Research TtDT - Report - Appendix - Reference Iconography - Report - Pipeline architecture _ archive 30/01/23 TtDT - Report - Appendix - The standard &#39;Pipeline&#39; or &#39;Pipe-and-Filter&#39; Architecture TtDT - Report - References TtDT - Report - Acknowledgements ::: ::: ::: {#content ."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        My New Hugo Site
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked">
          
        POSTS
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1"></h1>
      
      
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>::: full-height-container
::: {#sidebar .split}
::: {#search .navgroup}
:::</p>
<p>::: {#navigation .navgroup}</p>
<ul>
<li><a href="http://example.org/posts/page5501091875/">CLEAN CLIFcode Image</a></li>
<li><a href="http://example.org/posts/page5766283265/">TtDT - Report</a>
<ul>
<li><a href="http://example.org/posts/page5765071213/">TtDT - Report - Introduction</a></li>
<li><a href="http://example.org/posts/page5769560149/">TtDT - Report - A resilient approach</a></li>
<li><a href="http://example.org/posts/page5766316210/">TtDT - Report - A resilient, transparent bCLEARer pipeline
architecture</a>
<ul>
<li><a href="http://example.org/posts/page5773230168/">TtDT - Report - bCLEARer's pipeline or pipe-and-filter
architecture</a></li>
<li><a href="http://example.org/posts/page5773656071/">TtDT - Report - bCLEARer's nested gated pipeline
architecture</a></li>
<li><a href="http://example.org/posts/page5766545422/">TtDT - Report - bCLEARer pipeline's three nesting
levels</a></li>
<li><a href="http://example.org/posts/page5775163422/">TtDT - Report - bCLEARer pipeline - general
design</a></li>
</ul>
</li>
<li><a href="http://example.org/posts/page5769494532/">TtDT - Report - Building resilient transformation transparency
into the bCLEARer pipeline</a>
<ul>
<li><a href="http://example.org/posts/page5765136857/">TtDT - Report - Building resilient dataset transformation
transparency</a></li>
<li>TtDT - Report - Building resilient data item transformation
transparency</li>
</ul>
</li>
<li><a href="http://example.org/posts/page5768675336/">TtDT - Report - Appendices</a>
<ul>
<li><a href="http://example.org/posts/page5769003012/">TtDT - Report - Appendix - Process: principles versus
rules</a></li>
<li><a href="http://example.org/posts/page5768839184/">TtDT - Report - Appendix - bH - bHashing and
bSumming</a></li>
<li><a href="http://example.org/posts/page5772804097/">TtDT - Report - Appendix - cohesion and
coupling</a></li>
<li><a href="http://example.org/posts/page5772804106/">TtDT - Report - Appendix - separation of concerns
principle</a></li>
<li><a href="http://example.org/posts/page5772869633/">TtDT - Report - Appendix - immutability and idempotence
principle</a></li>
<li><a href="http://example.org/posts/page5772804114/">TtDT - Report - Appendix - single-transformation
(responsibility) principle (STP)</a></li>
<li><a href="http://example.org/posts/page5773328385/">TtDT - Report - Appendix - Aggregated S(ingle) S(ource)
O(f) T(ruth)</a></li>
<li><a href="http://example.org/posts/page5775982593/">TtDT - Report - Appendix - design patterns and
anti-patterns</a></li>
<li><a href="http://example.org/posts/page5780340771/">TtDT - Report - Appendix - Glossary of Major
Terms</a>
<ul>
<li><a href="http://example.org/posts/page5793284135/">TtDT - Report - Appendix - Glossary of Major Terms -
Report</a></li>
<li><a href="http://example.org/posts/page5793218610/">TtDT - Report - Appendix - Glossary of Major Terms -
Research</a></li>
</ul>
</li>
<li><a href="http://example.org/posts/page5784010894/">TtDT - Report - Appendix - Reference
Iconography</a>
<ul>
<li><a href="http://example.org/posts/page5783355393/">TtDT - Report - Appendix - Reference Iconography -
Report</a>
<ul>
<li><a href="http://example.org/posts/page5797249025/">TtDT - Report - Appendix - Reference Iconography -
Report - Pipeline architecture</a></li>
<li><a href="http://example.org/posts/page5796298761/">TtDT - Report - Appendix - Reference Iconography -
Report - Life history</a></li>
<li><a href="http://example.org/posts/page5796299378/">TtDT - Report - Appendix - Reference Iconography -
Report - Inter-diagram mapping</a></li>
<li><a href="http://example.org/posts/page5796299991/">TtDT - Report - Appendix - Reference Iconography -
Report - Common</a></li>
</ul>
</li>
<li><a href="http://example.org/posts/page5785092097/">TtDT - Report - Appendix - Reference Iconography -
Research</a>
<ul>
<li><a href="http://example.org/posts/page5796331521/">TtDT - Report - Appendix - Reference Iconography -
Report - Pipeline architecture _ archive
30/01/23</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="http://example.org/posts/page5784338433/">TtDT - Report - Appendix - The standard 'Pipeline' or
'Pipe-and-Filter' Architecture</a></li>
</ul>
</li>
<li><a href="http://example.org/posts/page5766578192/">TtDT - Report - References</a></li>
<li><a href="http://example.org/posts/page5766545409/">TtDT - Report - Acknowledgements</a>
:::
:::</li>
</ul>
</li>
</ul>
<p>::: {#content .split}
::: wiki-page
::: wiki-title</p>
<h1 id="Bookmark74" class="page-title-lvl-cover">TtDT - Report - Building resilient data item transformation transparency</h1>
<p>:::</p>
<p>::: wiki-content
[]{#Bookmark75}</p>
<h1 id="Bookmark75">Introduction</h1>
<p>In this section the focus is on building transformation transparency for
data items. This is done in the context of the bCLEARer stage pipeline
datasets.</p>
<p>As in the previous section, after a section setting the scene, the
following topics are covered.</p>
<ul>
<li>
<p>Firstly, a general notion of algorithmic identity, from which
difference and so transformation can be established, and</p>
</li>
<li>
<p>Secondly, how to implement transparency in the individual bCLEARer
stage pipelines through tracking, tracing and testing
transformations.</p>
</li>
</ul>
<p>And, as before, the second topic is divided into three parts:</p>
<ol>
<li>
<p>mapping tracking of intended identities</p>
</li>
<li>
<p>mapping tracing of intended changing identities</p>
</li>
<li>
<p>testing tracking and tracing for actual executions</p>
</li>
</ol>
<p>[]{#Bookmark76}</p>
<h1 id="Bookmark76">Setting the scene</h1>
<p>The previous section looked at the bUnit flow as a sequence of bUnit
process types &ndash; and how, at the dataset level, one could make this not
only transparent, open to inspection, but also resilient in the face of
change. It characterised a bUnit process type as a type of process that
consumes one or more (input) dataset types and produces one or more new
(output) dataset types.</p>
<p>The same pattern is recapitulated at the finer-grained level of data
items. Each bUnit dataset is a collection of data items &ndash; the bUnit
data items. The bUnit item process type consumes one or more (input)
data item types and produces one or more new (output) data items. So
item process types have associated item flow mappings &ndash; mappings from
the individual input data items and to the individual output data items.
One can visualise this in a similar way to datasets as in the figure
below.\</p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_67.png" alt="">{.confluence-embedded-image
.image-center width=&ldquo;442&rdquo;
height=&ldquo;72&rdquo;}]{.confluence-embedded-file-wrapper .image-center-wrapper
.confluence-embedded-manual-size}[]{#Bookmark77}</p>
<h1 id="Bookmark77">A general notion of algorithmic data item identity</h1>
<p>To enable tracking and tracing (of algorithmic data item identities) one
firstly needs to identify the data item identities to track and trace.
Then one maps them onto the bUnit item identities in the bCLEARer stage
pipelines. This gives one a basis for testing the tracking and tracing.</p>
<p>The two core types of algorithmic data item identity bCLEARer works with
at the moment are the same as for datasets:</p>
<ol>
<li>
<p>data item identity</p>
</li>
<li>
<p>data item immutable stage identity</p>
</li>
</ol>
<p>These identities are described below.</p>
<p>[]{#Bookmark78}</p>
<h2 id="Bookmark78">Data item identity</h2>
<p>The first type of algorithmic identity is data item identity. Whenever a
data item comes into the scope of the pipeline, whether being passed
into the pipeline from a data source or created by a filter in the
pipeline, it is allocated a unique data item identity. It is the
responsibility of the first filter to handle the data item to generate
the identity and attach it to the data item.</p>
<p>The specific algorithm is selected during the bCLEARer stage pipeline
design process. There are various ways of doing this and the choice will
depend upon the context. In the case of tables, this is usually based
upon a primary key of some kind. If there are no keys, then it can be
based upon something as simple as a row count. The ways bCLEARer
implements the algorithm is described here: <a href="page5768839184.md#Bookmark95" title="TtDT - Report - Appendix - bH - bHashing and bSumming">TtDT - Report - Appendix -
bH - bHashing and
bSumming</a>{linked-resource-id=&ldquo;5768839184&rdquo;
linked-resource-version=&ldquo;4&rdquo; linked-resource-type=&ldquo;page&rdquo;}, often these
are hashes.</p>
<p>The identity travels along the pipeline flow and is stored in subsequent
versions of the data item &ndash; in subsequent datasets. It is the
responsibility of the filters that write data items to ensure when
outputting one that the identity is passed through.</p>
<p>Of course, it is possible that there are multiple data item identities
that need to be tracked, but we only consider the case where there is
one here.</p>
<p>[]{#Bookmark79}</p>
<h2 id="Bookmark79">Data item immutable stage identity</h2>
<p>The second type of algorithmic identity is data item immutable stage
identity &ndash; this is based upon immutability of the data items' content
(including their identities). As with the previous identity, whenever a
data item comes into the scope of the pipeline, whether being passed
into the pipeline from a data source or created by a filter in the
pipeline, it is allocated a unique data item immutable stage identity.
It is the responsibility of the first filter to handle the data item to
generate the identifier and attach it to the data item.</p>
<p>The specific algorithm for this identity is selected during the bCLEARer
stage pipeline design process. There are various ways of doing this and
the choice will depend upon the context. In the case of tables, this is
usually based upon the content of a row. The ways bCLEARer implements
the algorithm is described here: <a href="page5768839184.md#Bookmark95" title="TtDT - Report - Appendix - bH - bHashing and bSumming">TtDT - Report - Appendix - bH -
bHashing and
bSumming</a>{linked-resource-id=&ldquo;5768839184&rdquo;
linked-resource-version=&ldquo;4&rdquo; linked-resource-type=&ldquo;page&rdquo;}, often these
are hashes.</p>
<p>This follows a similar pattern to the other identity described above.</p>
<p>Where the filter does not change the content of a data item, then this
identity travels along the pipeline flow and is stored in subsequent
versions of the data item &ndash; in subsequent datasets. It is the
responsibility of the filters that write data items to ensure when
outputting one that the identity is passed through. However, where the
filter does not change the content of a data item, a new identity needs
to be algorithmically calculated and attached to the data item.</p>
<p>As noted previously, the obvious candidate for a data item&rsquo;s stage
identity based upon content immutability is its maximal content. For
example, in the case of tables, this would be all the columns in the
row. There will be cases where the content naturally divides into
sub-content and so can be usefully tracked in finer detail. However we
only consider the case where there is a single (maximal) notion of
content here.</p>
<p>[]{#Bookmark80}</p>
<h2 id="Bookmark80">Relation to dataset identities</h2>
<p>Data item identity and dataset identity are closely linked. The intended
dataset identity depends upon the intended data item identity. Hence,
one can infer intended data item identity from intended dataset identity
&ndash; if dataset identity is preserved then data item identity must be too.
We identified the possible routes for dataset transformations as the
filter's input/output dataset combinations &ndash; a filter-dataset flows.
Data item transformations have the same routes at the finer granularity
of items &ndash; filter-data-item flows. A filter-dataset flow that preserves
dataset identity will include finer grained filter-data-item flows that
preserve data item identity. But there are cases (dataset splits and
merges are an example) where dataset identity is not preserved, but
there are finer grained filter-data-item flows that preserve data item
identity &ndash; we will look at examples later in this section.</p>
<p>[]{#Bookmark81}</p>
<h2 id="Bookmark81">Representing identities as metadata</h2>
<p>In our diagrams, we will represent the identities as metadata in two
ways - as shown below. On the left, the metadata is represented using a
'tag', on the right as columns in a metadata table.</p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_68.png" alt="">{.confluence-embedded-image
.image-center width=&ldquo;442&rdquo;
height=&ldquo;150&rdquo;}]{.confluence-embedded-file-wrapper .image-center-wrapper
.confluence-embedded-manual-size}[]{#Bookmark82}</p>
<h1 id="Bookmark82">Tracking intended data item and stage identities</h1>
<p>In this context, tracking means identifying the intended flow of the two
identities through the bUnit pipeline &ndash; for a particular data item
identity, which bUnit datasets it is intended to overlap, to have as
stages. This involves mapping where it is intended to be preserved
across bUnit filters. We describe this in more detail below reusing
using examples introduced for dataset identity.</p>
<p>[]{#Bookmark83}</p>
<h2 id="Bookmark83">Tracking a simple pass-through</h2>
<p>We start with a simple pass-through pipeline example that preserves
dataset item identity and dataset item immutable stage identity. The
pass-through filter will read a data item from the input dataset and
write the same data item with the same content to the output dataset.
This implies that both data item identities are preserved. We can
visualise that using an example diagram such as that below.</p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_69.png" alt="">{.confluence-embedded-image
.image-center}]{.confluence-embedded-file-wrapper .image-center-wrapper}</p>
<p>Both data items have their three identities as metadata. And as the
figure shows all non-bUnit items of metadata should match (bUnit stage
identities should never match).</p>
<p>The specific data item identities depend upon the contents of the input
dataset, so we can record the general transformation characteristics to
the filter-data-item flow as shown in the table below.</p>
<p>::: table-wrap</p>
<hr>
<p><strong>bUnit process</strong>   <strong>bUnit input dataset</strong>   <strong>bUnit output dataset</strong>   <strong>identity</strong>
filter A            dataset 1                 dataset 2                  data item identity</p>
<hr>
<p>:::</p>
<p>Or, when we know the specifics, as we do for the examples as shown in
the table below.</p>
<p>::: table-wrap</p>
<hr>
<p><strong>bUnit process</strong>   <strong>bUnit input dataset</strong>   <strong>bUnit output dataset</strong>   <strong>bUnit data item</strong>   <strong>identity</strong>
filter A            dataset 1                 dataset 2                  data item 1           data item identity</p>
<hr>
<p>:::</p>
<p>This specific flow can also be visualised in a data item life history.
Understandably, this looks remarkably similar to the dataset life
history for the same example (provided in the last section).</p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_70.png" alt="">{.confluence-embedded-image
.image-center width=&ldquo;544&rdquo;
height=&ldquo;273&rdquo;}]{.confluence-embedded-file-wrapper .image-center-wrapper
.confluence-embedded-manual-size}</p>
<p>[]{#Bookmark84}</p>
<h1 id="Bookmark84">Tracing intended data item and stage identity</h1>
<p>As at the dataset level, data item tracing means identifying the
intended flow of transformation based upon the two tracked identities &ndash;
item and stage. This involves mapping where the bUnit filters intend a
transformation.</p>
<p>[]{#Bookmark85}</p>
<h2 id="Bookmark85">Tracing simple data item stage successions</h2>
<p>As noted above, data item identity and dataset identity are closely
linked. Where it is intended that a dataset remain immutable throughout
its life, it is intended that the data items will remain immutable too.
Where it is intended that datasets can change (be mutable), it is
intended that their data items can too. At the data item level, these
changes translate into a series of immutable data item stages. The stage
tracing maps out the sequence of stages.</p>
<p>Consider a simple single filter pipeline, where the dataset item
identity is preserved, but the content is always transformed (in some
way - maybe by dropping columns). Then data item identity is also
preserved and data item stage identity will change &ndash; this is shown
graphically in the figure below.</p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_71.png" alt="">{.confluence-embedded-image
.image-center width=&ldquo;544&rdquo;
height=&ldquo;273&rdquo;}]{.confluence-embedded-file-wrapper .image-center-wrapper
.confluence-embedded-manual-size}[]{#Bookmark86}</p>
<h2 id="Bookmark86">Tracing simple data item successions</h2>
<p>Tracing data item succession requires more infrastructure. Consider a
simple match-and-combine pipeline where items from two datasets are
matched and then combined in a new dataset. In order to be able to trace
this succession, we need to keep a record of what was matched and
combined &ndash; a mapping between the data items.</p>
<p>There are quite a few ways that data item identity could be expressed in
a simple match-and-combine pipeline. Let&rsquo;s assume in this case it is
intended that the input and output data items be different (data items).
So where two different data items are merged to create a new third data
item. In this case, the two filter-data-item flows would have no general
transformation characteristics - so the table would look like this.</p>
<p>::: table-wrap</p>
<hr>
<p><strong>bUnit process</strong>          <strong>bUnit input dataset</strong>   <strong>bUnit output dataset</strong>   <strong>identity</strong>
simple match-and-combine   dataset 1                 dataset 3                  NONE
simple match-and-combine   dataset 2                 dataset 3                  NONE</p>
<hr>
<p>:::</p>
<p>This could be visualised as a flow like this.</p>
<p>Or a life history like this - note the trace links.</p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_72.png" alt="">{.confluence-embedded-image
.image-center width=&ldquo;544&rdquo;
height=&ldquo;384&rdquo;}]{.confluence-embedded-file-wrapper .image-center-wrapper
.confluence-embedded-manual-size}</p>
<p>To persist the trace, the match and combine filter needs to record the
data in the table below:</p>
<p>::: table-wrap</p>
<hr>
<p><strong>process</strong>                <strong>before</strong>                    <strong>after</strong>
simple match-and-combine   bUnit 123 - bUnit dataset 1   bUnit 789 - bUnit dataset 3
simple match-and-combine   bUnit 456 - bUnit dataset 2   bUnit 789 - bUnit dataset 3</p>
<hr>
<p>:::</p>
<p>[]{#Bookmark87}</p>
<h2 id="Bookmark87">Tracing and tracking branches</h2>
<p>Often the tracks of data item identity intertwine with the traces of
data item stage transformation. A good example of this is the simple
split-and-then-merge pipeline shown in the figure below.\</p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_73.png" alt="">{.confluence-embedded-image
.image-center}]{.confluence-embedded-file-wrapper .image-center-wrapper}</p>
<p><br>
<br>
Of the various possible ways data identity could be expressed, assume
the filters (whatever they are) just preserve dataset item identity, so
not dataset immutable stage identity. This implies they preserve data
item identity but not data item immutable stage identity. The flow of an
example data item through the pipeline could be diagrammed as shown
below.</p>
<p>This data item flow can also be visualised in a data item life history.</p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_74.png" alt="">{.confluence-embedded-image
.image-center}]{.confluence-embedded-file-wrapper .image-center-wrapper}</p>
<p>[]{#Bookmark88}</p>
<h1 id="Bookmark88">Testing data item identity</h1>
<p>As with datasets, once the intended data item tracks and traces have
been identified (as described in the two previous sections), they can be
used when the pipeline is executed to test whether identity is being
preserved as intended. Typically, data items tests are finer-grained
checks undertaken when the coarser grained dataset tests suggest
something is wrong. There are a range of ways in which the tests can be
deployed. We describe a few examples below to give a flavour of these.</p>
<p>[]{#Bookmark89}</p>
<h2 id="Bookmark89">Testing a simple pass-through</h2>
<p>Consider a simple single filter pass-though pipeline which, as noted
above, is intended to preserve dataset and immutable stage identity.
Assume firstly that the inspection process has identified that it has
failed the dataset identity test. Then the process can run a
finer-grained check on each data item to see whether they track between
the datasets. The figure below shows how the results of a check might be
visualised.<br>
<br>
<a href="https://borocvi.atlassian.net/wiki/people/61b395986d002b006b651ac9?ref=confluence" title="https://borocvi.atlassian.net/wiki/people/61b395986d002b006b651ac9?ref=confluence">Anne
Guinard</a>{.confluence-userlink
.user-mention username=&ldquo;61b395986d002b006b651ac9&rdquo;
account-id=&ldquo;61b395986d002b006b651ac9&rdquo; target=&quot;_blank&quot;
linked-resource-id=&ldquo;5379194962&rdquo; linked-resource-version=&ldquo;1&rdquo;
linked-resource-type=&ldquo;userinfo&rdquo;
base-url=&ldquo;<a href="https://borocvi.atlassian.net/wiki%22%7D">https://borocvi.atlassian.net/wiki&quot;}</a> to update the picture
[with new discontinuity symbol when validated by
]{style=&ldquo;color: rgb(76,154,255);&rdquo;}<a href="https://borocvi.atlassian.net/wiki/people/557058:8b873d57-d08e-4006-a7af-cd2822848a58?ref=confluence" title="https://borocvi.atlassian.net/wiki/people/557058:8b873d57-d08e-4006-a7af-cd2822848a58?ref=confluence">Chris
Partridge</a>{.confluence-userlink
.user-mention .current-user-mention
username=&ldquo;557058:8b873d57-d08e-4006-a7af-cd2822848a58&rdquo;
account-id=&ldquo;557058:8b873d57-d08e-4006-a7af-cd2822848a58&rdquo; target=&quot;_blank&rdquo;
linked-resource-id=&ldquo;32783&rdquo; linked-resource-version=&ldquo;2&rdquo;
linked-resource-type=&ldquo;userinfo&rdquo;
base-url=&ldquo;<a href="https://borocvi.atlassian.net/wiki%22%7D">https://borocvi.atlassian.net/wiki&quot;}</a> <a href="https://borocvi.atlassian.net/wiki/people/557058:96bed72f-a233-4089-8e08-6964d1555323?ref=confluence" title="https://borocvi.atlassian.net/wiki/people/557058:96bed72f-a233-4089-8e08-6964d1555323?ref=confluence">Andrew
Mitchell</a>{.confluence-userlink
.user-mention username=&ldquo;557058:96bed72f-a233-4089-8e08-6964d1555323&rdquo;
account-id=&ldquo;557058:96bed72f-a233-4089-8e08-6964d1555323&rdquo; target=&quot;_blank&rdquo;
linked-resource-id=&ldquo;950274&rdquo; linked-resource-version=&ldquo;1&rdquo;
linked-resource-type=&ldquo;userinfo&rdquo;
base-url=&ldquo;<a href="https://borocvi.atlassian.net/wiki%22%7D">https://borocvi.atlassian.net/wiki&quot;}</a></p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_75.png" alt="">{.confluence-embedded-image
.image-center}]{.confluence-embedded-file-wrapper .image-center-wrapper}</p>
<p>Another way of visualising this is as a life history.</p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_76.png" alt="">{.confluence-embedded-image
.image-center}]{.confluence-embedded-file-wrapper .image-center-wrapper}</p>
<p>Now assume firstly that the inspection process has warranted the dataset
item identity, but identified that it has failed the dataset immutable
stage identity test. Then the process can run a finer-grained check on
each data item to [establish ]{.inline-comment-marker
ref=&ldquo;3efe9460-4a9d-41a4-abc6-1d1f7e465311&rdquo;}the data item identity and
then run a check on data item immutable stage identity to identify the
items that are not behaving as intended. The figure below shows how the
results of a check might be visualised.</p>
<p><a href="https://borocvi.atlassian.net/wiki/people/61b395986d002b006b651ac9?ref=confluence" title="https://borocvi.atlassian.net/wiki/people/61b395986d002b006b651ac9?ref=confluence">Anne
Guinard</a>{.confluence-userlink
.user-mention username=&ldquo;61b395986d002b006b651ac9&rdquo;
account-id=&ldquo;61b395986d002b006b651ac9&rdquo; target=&quot;_blank&rdquo;
linked-resource-id=&ldquo;5379194962&rdquo; linked-resource-version=&ldquo;1&rdquo;
linked-resource-type=&ldquo;userinfo&rdquo;
base-url=&ldquo;<a href="https://borocvi.atlassian.net/wiki%22%7D%5B">https://borocvi.atlassian.net/wiki&quot;}[</a> to update the picture
with new discontinuity symbol when validated by
]{style=&ldquo;color: rgb(76,154,255);&rdquo;}<a href="https://borocvi.atlassian.net/wiki/people/557058:8b873d57-d08e-4006-a7af-cd2822848a58?ref=confluence" title="https://borocvi.atlassian.net/wiki/people/557058:8b873d57-d08e-4006-a7af-cd2822848a58?ref=confluence">Chris
Partridge</a>{.confluence-userlink
.user-mention .current-user-mention
username=&ldquo;557058:8b873d57-d08e-4006-a7af-cd2822848a58&rdquo;
account-id=&ldquo;557058:8b873d57-d08e-4006-a7af-cd2822848a58&rdquo; target=&quot;_blank&rdquo;
linked-resource-id=&ldquo;32783&rdquo; linked-resource-version=&ldquo;2&rdquo;
linked-resource-type=&ldquo;userinfo&rdquo;
base-url=&ldquo;<a href="https://borocvi.atlassian.net/wiki%22%7D%5B">https://borocvi.atlassian.net/wiki&quot;}[</a>
]{style=&ldquo;color: rgb(76,154,255);&rdquo;}<a href="https://borocvi.atlassian.net/wiki/people/557058:96bed72f-a233-4089-8e08-6964d1555323?ref=confluence" title="https://borocvi.atlassian.net/wiki/people/557058:96bed72f-a233-4089-8e08-6964d1555323?ref=confluence">Andrew
Mitchell</a>{.confluence-userlink
.user-mention username=&ldquo;557058:96bed72f-a233-4089-8e08-6964d1555323&rdquo;
account-id=&ldquo;557058:96bed72f-a233-4089-8e08-6964d1555323&rdquo; target=&quot;_blank&rdquo;
linked-resource-id=&ldquo;950274&rdquo; linked-resource-version=&ldquo;1&rdquo;
linked-resource-type=&ldquo;userinfo&rdquo;
base-url=&ldquo;<a href="https://borocvi.atlassian.net/wiki%22%7D%5B">https://borocvi.atlassian.net/wiki&quot;}[</a>
]{style=&ldquo;color: rgb(76,154,255);&rdquo;}</p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_77.png" alt="">{.confluence-embedded-image
.image-center}]{.confluence-embedded-file-wrapper .image-center-wrapper}</p>
<p>Another way of visualising this is as a life history.</p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_78.png" alt="">{.confluence-embedded-image
.image-center}]{.confluence-embedded-file-wrapper
.image-center-wrapper}[]{#Bookmark90}</p>
<h2 id="Bookmark90">Testing a simple dataset split</h2>
<p>Sometimes, the test does not rely directly on simple data set identity.
Dataset splits (and merges) are an example &ndash; where the datasets lose
their identity but the data items do not. Consider a simple single
filter split pipeline which, as noted above, is intended to preserve
dataset and immutable stage identity across the split datasets, but not
for the individual datasets. Assume that the inspection process has
identified that it has failed the dataset identity test. Then the
process can run a finer-grained check on each data item to see whether
they track between the datasets. The figure below shows how the results
of a check might be visualised.\</p>
<p><a href="https://borocvi.atlassian.net/wiki/people/61b395986d002b006b651ac9?ref=confluence" title="https://borocvi.atlassian.net/wiki/people/61b395986d002b006b651ac9?ref=confluence">Anne
Guinard</a>{.confluence-userlink
.user-mention username=&ldquo;61b395986d002b006b651ac9&rdquo;
account-id=&ldquo;61b395986d002b006b651ac9&rdquo; target=&quot;_blank&rdquo;
linked-resource-id=&ldquo;5379194962&rdquo; linked-resource-version=&ldquo;1&rdquo;
linked-resource-type=&ldquo;userinfo&rdquo;
base-url=&ldquo;<a href="https://borocvi.atlassian.net/wiki%22%7D">https://borocvi.atlassian.net/wiki&quot;}</a> to update the picture
[with new discontinuity symbol when validated by
]{style=&ldquo;color: rgb(76,154,255);&rdquo;}<a href="https://borocvi.atlassian.net/wiki/people/557058:8b873d57-d08e-4006-a7af-cd2822848a58?ref=confluence" title="https://borocvi.atlassian.net/wiki/people/557058:8b873d57-d08e-4006-a7af-cd2822848a58?ref=confluence">Chris
Partridge</a>{.confluence-userlink
.user-mention .current-user-mention
username=&ldquo;557058:8b873d57-d08e-4006-a7af-cd2822848a58&rdquo;
account-id=&ldquo;557058:8b873d57-d08e-4006-a7af-cd2822848a58&rdquo; target=&quot;_blank&rdquo;
linked-resource-id=&ldquo;32783&rdquo; linked-resource-version=&ldquo;2&rdquo;
linked-resource-type=&ldquo;userinfo&rdquo;
base-url=&ldquo;<a href="https://borocvi.atlassian.net/wiki%22%7D">https://borocvi.atlassian.net/wiki&quot;}</a> <a href="https://borocvi.atlassian.net/wiki/people/557058:96bed72f-a233-4089-8e08-6964d1555323?ref=confluence" title="https://borocvi.atlassian.net/wiki/people/557058:96bed72f-a233-4089-8e08-6964d1555323?ref=confluence">Andrew
Mitchell</a>{.confluence-userlink
.user-mention username=&ldquo;557058:96bed72f-a233-4089-8e08-6964d1555323&rdquo;
account-id=&ldquo;557058:96bed72f-a233-4089-8e08-6964d1555323&rdquo; target=&quot;_blank&rdquo;
linked-resource-id=&ldquo;950274&rdquo; linked-resource-version=&ldquo;1&rdquo;
linked-resource-type=&ldquo;userinfo&rdquo;
base-url=&ldquo;<a href="https://borocvi.atlassian.net/wiki%22%7D">https://borocvi.atlassian.net/wiki&quot;}</a></p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_79.png" alt="">{.confluence-embedded-image
.image-center}]{.confluence-embedded-file-wrapper .image-center-wrapper}</p>
<p>Another way of visualising this is as a data item life history.</p>
<p>[<img src="/Users/terraire/Downloads/TtDT/media/img_80.png" alt="">{.confluence-embedded-image
.image-center}]{.confluence-embedded-file-wrapper
.image-center-wrapper}[]{#Bookmark91}</p>
<h2 id="Bookmark91">Expanding the testing</h2>
<p><a href="https://borocvi.atlassian.net/wiki/people/557058:8b873d57-d08e-4006-a7af-cd2822848a58?ref=confluence" title="https://borocvi.atlassian.net/wiki/people/557058:8b873d57-d08e-4006-a7af-cd2822848a58?ref=confluence">Chris
Partridge</a>{.confluence-userlink
.user-mention .current-user-mention
username=&ldquo;557058:8b873d57-d08e-4006-a7af-cd2822848a58&rdquo;
account-id=&ldquo;557058:8b873d57-d08e-4006-a7af-cd2822848a58&rdquo; target=&quot;_blank&rdquo;
linked-resource-id=&ldquo;32783&rdquo; linked-resource-version=&ldquo;2&rdquo;
linked-resource-type=&ldquo;userinfo&rdquo;
base-url=&ldquo;<a href="https://borocvi.atlassian.net/wiki%22%7D">https://borocvi.atlassian.net/wiki&quot;}</a> [ to be
added]{style=&ldquo;color: rgb(191,38,0);&rdquo;}
:::
:::
:::
:::</p>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://example.org/" >
    &copy;  My New Hugo Site 2023 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
